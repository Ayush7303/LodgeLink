@{
    ViewData["Title"] = "Requests";
}

@model LodgeLink.Models.Requests

<div class="container-fluid my-3 text-primary">
    <div class="card h-100 p-3">
        <div class="row m-3">
            <label class="h5">What Type Of Request?</label>
            <div class="col-md-2 form-check">
                <input type="radio" name="reqType" value="0" class="form-check-input" onchange="showForm(this.value)" />
                <label class="custom-control-label">Architectural</label>
            </div>
            <div class="col-md-2 form-check">
                <input type="radio" name="reqType" value="1" class="form-check-input" onchange="showForm(this.value)" />
                <label class="custom-control-label">Maintanance</label>
            </div>
        </div>
        <div class="container-fluid m-3 text-center">
            <div class="row">
                <h2 id="ArchitecturalRequest" class="d-none">Architectural Request</h2>
                <h2 id="MaintananceRequest" class="d-none">Maintanance Request</h2>
            </div>
            <div class="row m-3">
                <div class="col-md-6 mx-auto">
                    <form method="post" enctype="multipart/form-data" id="form" class="d-none">
                        <input type="hidden" name="category" id="RequestCategory" />
                        <div class="row form-group">
                            <div class="form-floating my-2">
                                <textarea name="description" class="form-control" id="floatingTextarea2"></textarea>
                                <label for="floatingTextarea2" class="mx-2">Describe Your Idea</label>
                            </div>
                            <div class="form-floating my-2" id="completionDate">
                                <input name="completionDate" class="form-control" type="datetime-local"></input>
                                <label for="floatingTextarea2" class="mx-2">Completion Date</label>
                            </div>
                            <div class="form-floating my-2">
                                <textarea name="notes" class="form-control" id="floatingTextarea2"></textarea>
                                <label for="floatingTextarea2" class="mx-2">Leave Some Notes</label>
                            </div>
                            <div class="row my-2 text-start mx-1 d-none" id="attachmentField">
                                <label class="form-label fw-bold">Give Some Attachments (Images, Document, etc.)</label>
                                <input type="file" class="form-control" name="attachments" multiple />
                            </div>
                            <div class="row my-2 text-start">
                                <div col-md-2>
                                    <button type="submit" class="btn btn-secondary">Send</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function showForm(radio) {
        document.querySelector("#form").classList.remove('d-none');
        if(radio == 0)
        {
            document.querySelector("#RequestCategory").value = "0";
            document.querySelector("#ArchitecturalRequest").classList.remove('d-none');
            document.querySelector("#MaintananceRequest").classList.remove('d-none');
            document.querySelector("#completionDate").classList.remove('d-none');

            document.querySelector("#MaintananceRequest").classList.add('d-none');
            document.querySelector("#attachmentField").classList.remove('d-none');
            document.querySelector("#attachmentField").classList.add('d-none');

        }
        else if(radio == 1)
        {
            document.querySelector("#RequestCategory").value = "1";
            document.querySelector("#MaintananceRequest").classList.remove('d-none');
            document.querySelector("#ArchitecturalRequest").classList.remove('d-none');
            document.querySelector("#ArchitecturalRequest").classList.add('d-none');
            document.querySelector("#attachmentField").classList.remove('d-none');
            document.querySelector("#completionDate").classList.add('d-none');

        }
    }
</script>